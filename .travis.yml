language: c
sudo: required
dist: trusty
script:
  - autoreconf -fi 
  - ./configure --with-alsa --with-avahi --with-ssl=openssl --with-soxr --with-metadata --with-systemv
  - make
  - ./configure --with-alsa --with-avahi --with-ssl=polarssl --with-soxr --with-metadata --with-systemd
  - make
  - ./configure --with-alsa --with-tinysvcmdns --with-ssl=polarssl --with-soxr --with-metadata --with-systemv --with-stdout --with-pipe
  - make
  - ./configure --with-alsa --with-tinysvcmdns --with-ssl=polarssl --with-soxr --with-metadata --with-systemd --with-stdout --with-pipe --without-pkgconfig
  - make


branches:
  only:
    - development

before_install:
  - sudo apt-get -qq update
  - sudo apt-get install -y libdaemon-dev avahi-daemon libavahi-client-dev
  
addons:
  apt:
    packages:
    - libasound2-dev
    - libsoxr-dev
    - libpopt-dev
    - libssl-dev
    - libconfig-dev
